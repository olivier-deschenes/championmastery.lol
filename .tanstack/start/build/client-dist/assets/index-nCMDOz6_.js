import{u as f,j as e,L as j,D as d,a as p,b as v}from"./main-CGbeZWPF.js";import{u as N}from"./index-CywOVssP.js";import{B as u}from"./badge-DoS3K9_r.js";const y=({s})=>{const i=f({from:"/lol"}),l=s.statistics.find(a=>a.queueType==="RANKED_SOLO_5x5"),m=l?.mainChampionBackgroundColor,c=l?.mainChampionForegroundColor,t=s.leagues.find(a=>a.queueType==="RANKED_SOLO_5x5");return e.jsx(j,{className:"bg-main/30 hover:bg-main/50 p-2.5 rounded-md h-[80px] flex items-center",to:"/lol/summoner/$riotID",params:{riotID:s.riotId.replace("#","-")},search:{queue:"RANKED_SOLO_5x5"},style:{"--color-main":m??void 0,"--color-main-foreground":c??void 0},children:e.jsxs("div",{className:"flex gap-1.5 items-center w-full",children:[e.jsx("div",{className:"w-15 aspect-square rounded-md relative bg-cover",style:{backgroundImage:`url(${d.getProfileIconUrl(i.latest_version,s.profileIconId)})`},children:e.jsx(u,{className:"bg-main/70 text-main-foreground text-xs p-0 px-1 absolute left-1/2 bottom-0 -translate-x-1/2 translate-y-1/2",children:s.summonerLevel})}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("div",{children:s.riotId}),e.jsx(u,{className:"px-1 h-5 text-xs font-mono tabular-nums bg-main/80 font-bold text-main-foreground",children:s.region})]}),l?e.jsxs(u,{className:"px-1",children:[e.jsx("img",{className:"w-4 rounded-md",src:d.getChampionIconUrlFromParticipant(i.champions,i.latest_version,{championId:l.mainChampionId}),alt:""}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-bold",children:[d.getChampionName(i.champions,l.mainChampionId)," "]}),"main"]})]}):null]}),t?e.jsxs("div",{className:"flex ml-auto flex-col gap-0.5 justify-center items-end",children:[e.jsx("div",{children:`${t.tier} ${t.rank} — ${t.leaguePoints}LP`}),e.jsx("div",{children:`${t.wins+t.losses} matches — ${(100*t.wins/(t.wins+t.losses)).toFixed(0)}%`})]}):null]})},`default-link-${s.puuid}`)},b=({summoners:s})=>{const i=p.useRef(null),l=80,m=36,c=p.useMemo(()=>{const r=new Map;for(const o of s)r.set(o.region,(r.get(o.region)??0)+1);const n=[];let x=null;for(const o of s)o.region!==x&&(n.push({type:"header",key:`region-${o.region}`,region:o.region,count:r.get(o.region)??0}),x=o.region),n.push({type:"item",key:`summoner-${o.puuid}`,s:o});return n},[s]),t=N({count:c.length,getScrollElement:()=>i.current,estimateSize:r=>c[r].type==="header"?m:l,overscan:10}),a=t.getVirtualItems();if(c.length===0)return e.jsx("div",{className:"h-full flex items-center justify-center text-sm text-muted-foreground",children:"No summoners yet"});const g=a[0]?.start??0,h=a.length>0?t.getTotalSize()-a[a.length-1].end:0;return e.jsx("div",{ref:i,className:"h-full w-full overflow-auto",children:e.jsx("div",{className:"mx-auto max-w-7xl px-10 py-4",children:e.jsx("div",{className:"w-full flex flex-col",style:{paddingTop:g,paddingBottom:h},children:a.map(r=>{const n=c[r.index];return n.type==="header"?e.jsxs("div",{className:"h-9 w-full px-3 flex items-center bg-muted/40 text-xs font-semibold uppercase tracking-wide rounded-md mb-2",style:{height:r.size},children:[e.jsx("span",{className:"mr-2",children:n.region}),e.jsx("span",{className:"opacity-60",children:n.count})]},n.key):e.jsx("div",{className:"w-full mb-2",style:{height:r.size},children:e.jsx(y,{s:n.s})},n.key)})})})})};function E(){const s=v.useLoaderData();return e.jsx("div",{className:"flex container mx-auto flex-col",children:e.jsx(b,{summoners:s})})}export{E as component};
